<template>
    ---json
    {
        "templating": {
            "extends": "templates/layouts/base.html"
        }
    }
    ---
    [% template before %]
    [% if $context?features?toc?enabled and exists($context?doc)%]
    <h5>
        <pb-i18n key="document.contents">Contents</pb-i18n>
    </h5>
    <pb-load class="toc" url="api/document/{doc}/contents?target=transcription&amp;icons=true[[ if ($context?features?toc?collapse) then '&amp;collapse=true' else '' ]]" expand="expand"
        src="document1" subscribe="toc" load-once="load-once" auto="auto"><pb-i18n key="dialogs.loading">Loading</pb-i18n></pb-load>
    [% endif %]
    [% endtemplate %]

    [% template content-top %]
    [% if $features?toolbar?enabled %]
    [% include "templates/toolbar.html" %]
    [% endif %]
    [% endtemplate %]

    [% block above-content %][% endblock %]
    <main>
        <!-- Content block -->
        [% block content %][% endblock %]
    </main>
    [% block below-content %][% endblock %]
    [% if exists($context?doc) %]
    <pb-document id="document1" path="[[ $context?doc?path ]]" odd="[[ $context?doc?odd ]]" view="[[ $context?doc?view ]]"
        root-path="[[ $config:data-root ]]" source-view="[[ $page:EXIDE ]]"/>
    [% endif %]
</template>
